{% extends "base.html" %} 
{% block title %} Change Password {% endblock %} 
{% block content %}

<div class="password-wrapper">
    <form method="POST" action="/changePassword">
        <h2 style="text-align:center; padding-bottom:10px;"> Change Password </h2>
        {% if confirm_msg %}
        <div class="check">
            <i class="fa-solid fa-circle-check right"></i>
            <span class="text">{{confirm_msg}}</span>
        </div>
        
        {% elif msg %}
        <div class="alert">
            <i class="fas fa-exclamation-circle error"></i>
            <span class="text">{{msg}}</span>
        </div>
        {% endif %}
        <div class="password-input-box">
            <input class="password-input" id="old_pw" type="password" name="old-password" required>
            <label class="password-label">Old Password</label>
          </div>
        <div class="password-input-box">
            <input class="password-input" id="create_pw" type="password" name="new-password" required>
            <label class="password-label">New Password</label>
        </div>
        <div class="password-input-box">
            <input class="password-input" id="confirm_pw" type="password" name="confirm-password" required>
            <label class="password-label">Confirm New Password</label>
            <i class="fas fa-eye-slash show"></i>
        </div>  
        <div class="password-button-box">
            <div class="submit-button">
                <button type="submit" style="margin-right:20px; padding:4px 5px;" class="customizedButton">Submit</btton>
            </div>
            <div class="link">
                <a href="/login" class="customizedButton" style="margin-left:20px;  padding:5.5px 12px;">Login</a>
            </div>
        </div>
    </form>
</div>

<script>
    const createPw = document.querySelector("#create_pw"),
    oldPw=document.querySelector("#old_pw")
    confirmPw = document.querySelector("#confirm_pw"),
    pwShow = document.querySelector(".show"),
    alertIcon = document.querySelector(".error"),
    alertText= document.querySelector(".text"),
    submitBtn = document.querySelector("#button");
   
    pwShow.addEventListener("click", ()=>{
      if((createPw.type === "password") && (confirmPw.type === "password") && (oldPw.type === "password")){
        createPw.type = "text";
        confirmPw.type = "text";
        oldPw.type = "text";
        pwShow.classList.replace("fa-eye-slash","fa-eye");
      }else {
        createPw.type = "password";
        confirmPw.type = "password";
        oldPw.type = "password";
        pwShow.classList.replace("fa-eye","fa-eye-slash");
      }
    });
   

</script>
{% endblock %} 